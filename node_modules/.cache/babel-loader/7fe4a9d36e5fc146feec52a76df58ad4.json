{"ast":null,"code":"import _slicedToArray from\"/home/adalaber/Escritorio/adalab/ejercicios-de-adalab/modulo-3/EVALUACIONES/modulo-3-evaluacion-final-Mesalina23/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'../styles/App.scss';import'../styles/core/_reset.scss';import{useState,useEffect}from'react';import{Route,Switch,useRouteMatch}from'react-router-dom';import api from'../services/charactersApi';import ls from'../services/ls';import Header from'./Header';import Footer from'./Footer';import CharacterList from'./CharacterList';import CharacterSearch from'./CharacterSearch';import CharacterDetails from'./CharacterDetails';import PageNotFound from'./PageNotFound';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(ls.get('data',[])),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(ls.get('searchName','')),_useState4=_slicedToArray(_useState3,2),searchName=_useState4[0],setSearchName=_useState4[1];var _useState5=useState(ls.get('searchSpecie','all')),_useState6=_slicedToArray(_useState5,2),searchSpecie=_useState6[0],setSearchSpecie=_useState6[1];var _useState7=useState(ls.get('searchStatus','all')),_useState8=_slicedToArray(_useState7,2),searchStatus=_useState8[0],setSearchStatus=_useState8[1];useEffect(function(){api.getCharactersFromApi().then(function(initialData){setData(initialData);});},[]);useEffect(function(){ls.set('data',data);},[data]);useEffect(function(){ls.set('searchName',searchName);},[searchName]);useEffect(function(){ls.set('searchSpecie',searchSpecie);},[searchSpecie]);useEffect(function(){ls.set('searchStatus',searchStatus);},[searchStatus]);var handleSearchSpecie=function handleSearchSpecie(ev){setSearchSpecie(ev.currentTarget.value);};var handleSearchStatus=function handleSearchStatus(ev){setSearchStatus(ev.currentTarget.value);};var handleSearchName=function handleSearchName(ev){ev.preventDefault();setSearchName(ev.currentTarget.value);};var routeData=useRouteMatch('/character/:id');console.log(routeData);var characterId=routeData!==null?routeData.params.id:'';console.log(characterId);var selectedCharacter=data.find(function(character){return character.id===parseInt(characterId);});var filteredData=data.sort(function(a,b){if(a.name>b.name){return 1;}if(a.name<b.name){return-1;}return 0;}).filter(function(character){return character.name.toLocaleLowerCase().includes(searchName.toLocaleLowerCase());}).filter(function(character){return searchSpecie==='all'||searchSpecie===character.species;}).filter(function(character){return searchStatus==='all'||searchStatus===character.status;});return/*#__PURE__*/_jsxs(\"div\",{className:\"page\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"main\",{className:\"page__main\",children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/character/:id\",children:/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(CharacterDetails,{selectedCharacter:selectedCharacter})})}),/*#__PURE__*/_jsxs(Route,{exact:true,path:\"/\",children:[/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(CharacterSearch,{searchName:searchName,handleSearchName:handleSearchName,searchSpecie:searchSpecie,handleSearchSpecie:handleSearchSpecie,searchStatus:searchStatus,handleSearchStatus:handleSearchStatus})}),/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(CharacterList,{data:filteredData})})]}),/*#__PURE__*/_jsx(Route,{children:/*#__PURE__*/_jsx(PageNotFound,{})})]})}),/*#__PURE__*/_jsx(Footer,{})]});}export default App;","map":{"version":3,"sources":["/home/adalaber/Escritorio/adalab/ejercicios-de-adalab/modulo-3/EVALUACIONES/modulo-3-evaluacion-final-Mesalina23/src/components/App.js"],"names":["useState","useEffect","Route","Switch","useRouteMatch","api","ls","Header","Footer","CharacterList","CharacterSearch","CharacterDetails","PageNotFound","App","get","data","setData","searchName","setSearchName","searchSpecie","setSearchSpecie","searchStatus","setSearchStatus","getCharactersFromApi","then","initialData","set","handleSearchSpecie","ev","currentTarget","value","handleSearchStatus","handleSearchName","preventDefault","routeData","console","log","characterId","params","id","selectedCharacter","find","character","parseInt","filteredData","sort","a","b","name","filter","toLocaleLowerCase","includes","species","status"],"mappings":"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","sourcesContent":["import '../styles/App.scss';\nimport '../styles/core/_reset.scss';\nimport { useState, useEffect } from 'react';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport api from '../services/charactersApi';\nimport ls from '../services/ls';\nimport Header from './Header';\nimport Footer from './Footer';\nimport CharacterList from './CharacterList';\nimport CharacterSearch from './CharacterSearch';\nimport CharacterDetails from './CharacterDetails';\nimport PageNotFound from './PageNotFound';\n\nfunction App() {\n  const [data, setData] = useState(ls.get('data', []));\n  const [searchName, setSearchName] = useState(ls.get('searchName', ''));\n  const [searchSpecie, setSearchSpecie] = useState(\n    ls.get('searchSpecie', 'all')\n  );\n  const [searchStatus, setSearchStatus] = useState(\n    ls.get('searchStatus', 'all')\n  );\n\n  useEffect(() => {\n    api.getCharactersFromApi().then((initialData) => {\n      setData(initialData);\n    });\n  }, []);\n  useEffect(() => {\n    ls.set('data', data);\n  }, [data]);\n  useEffect(() => {\n    ls.set('searchName', searchName);\n  }, [searchName]);\n  useEffect(() => {\n    ls.set('searchSpecie', searchSpecie);\n  }, [searchSpecie]);\n  useEffect(() => {\n    ls.set('searchStatus', searchStatus);\n  }, [searchStatus]);\n\n  const handleSearchSpecie = (ev) => {\n    setSearchSpecie(ev.currentTarget.value);\n  };\n  const handleSearchStatus = (ev) => {\n    setSearchStatus(ev.currentTarget.value);\n  };\n  const handleSearchName = (ev) => {\n    ev.preventDefault();\n    setSearchName(ev.currentTarget.value);\n  };\n  const routeData = useRouteMatch('/character/:id');\n  console.log(routeData);\n\n  const characterId = routeData !== null ? routeData.params.id : '';\n  console.log(characterId);\n\n  const selectedCharacter = data.find(\n    (character) => character.id === parseInt(characterId)\n  );\n  const filteredData = data\n    .sort(function (a, b) {\n      if (a.name > b.name) {\n        return 1;\n      }\n      if (a.name < b.name) {\n        return -1;\n      }\n      return 0;\n    })\n    .filter((character) =>\n      character.name\n        .toLocaleLowerCase()\n        .includes(searchName.toLocaleLowerCase())\n    )\n    .filter(\n      (character) =>\n        searchSpecie === 'all' || searchSpecie === character.species\n    )\n    .filter(\n      (character) => searchStatus === 'all' || searchStatus === character.status\n    );\n\n  return (\n    <div className='page'>\n      <Header></Header>\n      <main className='page__main'>\n        <Switch>\n          <Route path='/character/:id'>\n            <section>\n              <CharacterDetails\n                selectedCharacter={selectedCharacter}\n              ></CharacterDetails>\n            </section>\n          </Route>\n          <Route exact path='/'>\n            <section>\n              <CharacterSearch\n                searchName={searchName}\n                handleSearchName={handleSearchName}\n                searchSpecie={searchSpecie}\n                handleSearchSpecie={handleSearchSpecie}\n                searchStatus={searchStatus}\n                handleSearchStatus={handleSearchStatus}\n              />\n            </section>\n            <section>\n              <CharacterList data={filteredData} />\n            </section>\n          </Route>\n          <Route>\n            <PageNotFound></PageNotFound>\n          </Route>\n        </Switch>\n      </main>\n      <Footer></Footer>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}